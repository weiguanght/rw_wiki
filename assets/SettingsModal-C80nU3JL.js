import{t as d,j as e}from"./index-Ch1RHHeW.js";import{r as o}from"./vendor-virtual-DYIK6HnI.js";import"./vendor-react-Dh3zDKDA.js";function b(){const[t,r]=o.useState(!1),[s,l]=o.useState(()=>typeof window>"u"?"click":localStorage.getItem("wiki-copy-mode")||"click"),[i,p]=o.useState(()=>typeof window>"u"?!1:localStorage.getItem("wiki-auto-card-switch")==="true"),[c,m]=o.useState(()=>typeof window>"u"?!0:localStorage.getItem("wiki-card-expanded")!=="false"),[a,h]=o.useState(()=>typeof window>"u"?!1:localStorage.getItem("wiki-auto-column-width")==="true");return o.useEffect(()=>{localStorage.setItem("wiki-copy-mode",s)},[s]),o.useEffect(()=>{localStorage.setItem("wiki-auto-card-switch",String(i)),d()},[i]),o.useEffect(()=>{localStorage.setItem("wiki-card-expanded",String(c)),d()},[c]),o.useEffect(()=>{localStorage.setItem("wiki-auto-column-width",String(a)),d()},[a]),e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:()=>r(!0),className:"w-[50px] h-[50px] flex items-center justify-center opacity-70 hover:opacity-100 transition-opacity cursor-pointer bg-transparent border-none",title:"设置",children:e.jsx("svg",{className:"w-[30px] h-[30px]",viewBox:"0 0 24 24",fill:"#3498db",children:e.jsx("path",{d:"M19.14 12.94c.04-.31.06-.63.06-.94 0-.31-.02-.63-.06-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.04.31-.06.63-.06.94s.02.63.06.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"})})}),t&&e.jsx("div",{className:"fixed inset-0 bg-black/50 z-[2000] flex justify-center items-center",onClick:()=>r(!1),children:e.jsxs("div",{className:"rounded-xl p-6 max-w-[420px] w-[90%] max-h-[80vh] overflow-y-auto shadow-2xl relative",style:{background:"var(--bg-secondary)",color:"var(--text-primary)"},onClick:f=>f.stopPropagation(),children:[e.jsx("button",{onClick:()=>r(!1),className:"absolute top-3 right-3 text-2xl leading-none cursor-pointer bg-transparent border-none transition-colors hover:opacity-70",style:{color:"var(--text-muted)"},children:"×"}),e.jsx("h3",{className:"m-0 mb-5 text-xl",style:{color:"#3498db"},children:"设置"}),e.jsx(n,{title:"单元格复制触发方式",description:"选择如何触发复制功能",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(x,{active:s==="click",onClick:()=>l("click"),children:"单击"}),e.jsx(x,{active:s==="longpress",onClick:()=>l("longpress"),children:"长按"})]})}),e.jsx(n,{title:"自动切换卡片视图",description:"宽高比越大列数越多，1-5列",children:e.jsx(u,{checked:i,onChange:p})}),e.jsx(n,{title:"卡片默认展开",description:"关闭后卡片只显示名称和翻译，可手动展开",children:e.jsx(u,{checked:c,onChange:m})}),e.jsx(n,{title:"表格列自动宽度",description:"根据内容自动计算列宽占比，移除异常长数据",noBorder:!0,children:e.jsx(u,{checked:a,onChange:h})})]})})]})}function n({title:t,description:r,children:s,noBorder:l=!1}){return e.jsxs("div",{className:"flex items-center justify-between py-3 gap-4",style:{borderBottom:l?"none":"1px solid var(--border-color)"},children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"text-sm",style:{color:"var(--text-primary)"},children:t}),e.jsx("div",{className:"text-xs mt-1",style:{color:"var(--text-muted)"},children:r})]}),e.jsx("div",{className:"flex-shrink-0",children:s})]})}function x({active:t,onClick:r,children:s}){return e.jsx("button",{onClick:r,className:"px-4 py-1.5 rounded-full text-sm cursor-pointer transition-all",style:{border:"1px solid",borderColor:t?"#3498db":"var(--border-color)",background:t?"#3498db":"transparent",color:t?"white":"var(--text-muted)"},children:s})}function u({checked:t,onChange:r}){return e.jsx("button",{onClick:()=>r(!t),className:"relative w-12 h-6 rounded-full cursor-pointer transition-colors",style:{background:t?"#3498db":"var(--border-color)"},children:e.jsx("span",{className:"absolute top-0.5 w-5 h-5 rounded-full bg-white shadow transition-all",style:{left:t?"26px":"2px"}})})}export{b as SettingsModal,b as default};
